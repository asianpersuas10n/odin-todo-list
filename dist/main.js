(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{MP:()=>i,sg:()=>a,Hc:()=>u});const t=document.querySelector("#projectContainer"),n=document.querySelector("#todoContainer"),o=document.querySelector("#submitProject"),l=document.querySelector("#submitTodo");let c=!1,r=!1;function d(){t.innerHTML="",n.innerHTML="",a.forEach((e=>{!function(e){const t=document.querySelector("#projectContainer"),n=document.createElement("div"),o=document.createElement("button"),l=document.createElement("button");o.textContent=`${e.name}`,n.appendChild(o),l.textContent="X",n.appendChild(l),t.append(n),document.querySelector("#title").textContent=i.name,o.addEventListener("click",(()=>{i=a[a.indexOf(e)],d(),u()})),l.addEventListener("click",(()=>{a.splice(a.indexOf(e),1),d(),u()}))}(e)})),i.list.forEach((e=>{!function(e){const t=document.querySelector("#todoContainer"),n=document.createElement("div"),o=document.createElement("div"),l=document.createElement("span"),a=document.createElement("span"),s=document.createElement("button");l.textContent=`${e.title}`,o.appendChild(l),a.textContent=""===e["due date"]?"No Due Date Set":`${e["due date"]}`,o.appendChild(a),n.appendChild(o),s.textContent="X",n.appendChild(s),t.appendChild(n),l.addEventListener("click",(()=>{!0!==c&&(c=!0,l.innerHTML='<input type="text" value="'+l.textContent+'" onblur="this.focus()" autofocus>',l.firstChild.addEventListener("keypress",(t=>{if("Enter"===t.key){if(""===l.firstChild.value)return alert("Needs at least one character.");e.title=l.firstChild.value,d(),u(),c=!1}})))})),a.addEventListener("click",(()=>{!0!==r&&(r=!0,a.innerHTML='<input type="date" value="'+l.textContent+'" onblur="this.focus()" autofocus>',a.firstChild.addEventListener("keypress",(t=>{"Enter"===t.key&&(e["due date"]=a.firstChild.value,d(),u(),r=!1)})))})),s.addEventListener("click",(()=>{i.list.splice(i.list.indexOf(e),1),d(),u()}))}(e)}))}let i={},a=[];function u(){localStorage.setItem("selectedProject",JSON.stringify(i)),localStorage.setItem("allProjects",JSON.stringify(a))}null===localStorage.getItem("allProjects")?(i={name:"default",list:[{title:"This is a todo example.","due date":"10/10/2022"}]},a=[{name:"default",list:[{title:"This is a todo example.","due date":"10/10/2022"}]}]):(i=JSON.parse(localStorage.getItem("selectedProject")),a=JSON.parse(localStorage.getItem("allProjects"))),o.addEventListener("click",(function(){const e=document.querySelector("#newProject").value;""!==e&&(a.push({name:e,list:[]}),d(),u(),document.querySelector("#newProject").value="",t.lastChild.firstChild.click())})),l.addEventListener("click",(()=>{void 0!==a[0]&&function(e){const t=document.querySelector("#newTodo").value;if(""===t)return;const n=document.querySelector("#newTodoDate").value;a[a.indexOf(e)].list.push({title:t,"due date":n}),d(),u(),document.querySelector("#newTodo").value=""}(i)})),d(),t.lastChild.firstChild.click()})();